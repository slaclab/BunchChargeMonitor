#For these to provide usable data the coefficients A0 and A1 must be set 1

record(calcout, "$(P):$(CHAN):Calib_Charge")
{
     field(DESC, "Integration of the beam pulse coefficients A0 = 1 and A1 = -1")
     field(EGU, "mV*ns")
     field(SCAN, "Passive")
     field(INPA, "$(P):$(CHAN):Calib_mV")
     field(INPB, "$(P):$(CHAN):NumSamp1_H")
     field(INPC, "$(P):$(CHAN):CLK_PERIOD")
     field(CALC, "A*B*C")
     field(OUT, "$(P):$(CHAN):Calib_Coef_Maginitude")
}

record(ai, "$(P):$(CHAN):Calib_mV")
{
    field(DESC, "Measured voltage coefficients A0 = 1 and A1 = -1")
    field(EGU, "mV")
    field(SCAN, "Passive")
    field(INP, "$(P):$(CHAN):TMIT_PC")
    field(DTYP, "Raw Soft Channel")
    field(FLNK, "$(P):$(CHAN):Calib_Charge")
    info(autosaveFields, "AOFF, ASLO")
}

record(calc, "$(P):$(CHAN):Calib_Coef_Maginitude")
{
     field(DESC, "Converts Calib_charge to the needed coefficient magnitude")
     field(EGU, "N/A")
     field(SCAN, "Passive")
     field(INPA, "$(P):$(CHAN):Calib_Charge")
     field(INPB, "$(P):$(CHAN):ACD_count_to_mV"
     field(CALC, "A/(50*B)")
}

record(ao, "$(P):$(CHAN):Calib_ratio")
{
    field(DESC, "Ratio of charge sent to the toroid that returns")
    field(EGU, "N/A")
    field(RVAL, 0.0754)
    field(SCAN, "Passive")
}
